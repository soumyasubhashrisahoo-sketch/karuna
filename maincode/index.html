<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karuna - AI Animal Rescue</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide icons --><script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide.min.js"></script>
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style for the hero background */
        #hero {
            background-color: #0d9488; /* Emerald green */
            background-size: cover;
            background-position: center;
        }

        /* Simple spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <!-- Custom Alert Modal --><div id="alert-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full mx-4">
            <h3 class="text-lg font-medium text-gray-900 mb-4">Notification</h3>
            <p id="alert-message" class="text-sm text-gray-600 mb-6">This feature is not available in the demo.</p>
            <button onclick="closeAlert()" class="w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors">
                OK
            </button>
        </div>
    </div>

    <!-- 1. Hero Section (from image 4) --><section id="hero" class="py-24 md:py-40 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <!-- New wrapper for heading and paragraph with blurred background --><div class="bg-black/30 backdrop-blur-sm rounded-lg p-6 md:p-8 mb-12">
                <h1 class="text-5xl md:text-7xl font-bold flex justify-center items-center gap-4 mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-400 lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                    KARUNA
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-400 lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                </h1>
                <p class="max-w-3xl mx-auto text-base md:text-lg text-gray-200">
                    Have you ever seen an injured bird or a dog and felt that terrible sting of helplessness? You want to do something, but you just don't know who to call. This exact feeling is where our mission started. We believe the animals who live alongside us are our neighbors. They have a right to be safe, and it's our responsibility to care for them. That's why we built Karuna. Karuna means 'compassion,' and our app turns that feeling into real action. It's our simple effort to help the voiceless and finally connect an animal in need with the help it deserves.
                </p>
            </div>
            
            <!-- Feature Cards --><div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                <!-- AI Health Analysis Card --><a href="#analysis" class="bg-black/40 backdrop-blur-md p-6 rounded-lg shadow-lg text-left hover:bg-black/60 transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-400 mb-4 lucide lucide-stethoscope"><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2Z"/><path d="M8 2v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2h-.4a.3.3 0 1 0-.3.6l.4.3"/><path d="M17.8 2.3a.3.3 0 1 1 .4-.4H20a2 2 0 0 1 2 2v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a2 2 0 0 1 2-2Z"/><path d="M16 2v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a2 2 0 0 1 2-2h.4a.3.3 0 1 1 .3.6l-.4.3"/><path d="M10 10v6"/><path d="M10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"/><path d="M10 16s-1.7-2-5-2"/><path d="M10 16s1.7-2 5-2"/></svg>
                    <h3 class="text-xl font-semibold mb-2">AI Health Analysis</h3>
                    <p class="text-gray-300 text-sm">Instant injury assessment using advanced computer vision.</p>
                </a>
                
                <!-- 24/7 Emergency Card --><a href="#footer" class="bg-black/40 backdrop-blur-md p-6 rounded-lg shadow-lg text-left hover:bg-black/60 transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-400 mb-4 lucide lucide-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/><path d="M14.05 2a9 9 0 0 1 8 7.94"/><path d="M14.05 6A5 5 0 0 1 18 10"/></svg>
                    <h3 class="text-xl font-semibold mb-2">24/7 Emergency</h3>
                    <p class="text-gray-300 text-sm">Round-the-clock rescue coordination and support.</p>
                </a>
                
                <!-- Expert Care Card --><a href="#guide" class="bg-black/40 backdrop-blur-md p-6 rounded-lg shadow-lg text-left hover:bg-black/60 transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-yellow-400 mb-4 lucide lucide-shield-check"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
                    <h3 class="text-xl font-semibold mb-2">Expert Care</h3>
                    <p class="text-gray-300 text-sm">Professional veterinary guidance and treatment.</p>
                </a>
            </div>
        </div>
    </section>

    <!-- 2. AI Injury Analysis (from image 1) --><section id="analysis" class="py-16 md:py-24 bg-green-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600 mx-auto mb-4 lucide lucide-activity"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">AI Injury Analysis & Live Assessment</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Upload a photo, capture live camera footage, or record video of the animal for comprehensive AI
                    analysis and immediate care guidance.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Left Card: Upload --><div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
                    <div class="flex items-center justify-center gap-4 mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 lucide lucide-camera"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                        <span class="text-gray-500">or</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500 lucide lucide-upload-cloud"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m16 16-4-4-4 4"/></svg>
                    </div>
                    <h3 class="text-xl font-semibold text-center mb-2">Document Animal Condition</h3>
                    <p class="text-gray-600 text-center mb-8">
                        Use your camera for instant analysis or upload an existing photo.
                    </p>

                    <!-- Hidden file input --><input type="file" id="file-upload-input" class="hidden" accept="image/*" onchange="handleFileSelect(event)">

                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <button id="live-camera-btn" class="flex flex-col items-center justify-center p-4 bg-white border-2 border-green-300 text-green-600 rounded-lg hover:bg-green-50 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2 lucide lucide-camera"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                            <span>Live Camera</span>
                        </button>
                        <button id="record-video-btn" class="flex flex-col items-center justify-center p-4 bg-white border-2 border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2 lucide lucide-video"><path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/></svg>
                            <span>Record Video</span>
                        </button>
                        <button id="upload-photo-btn" class="flex flex-col items-center justify-center p-4 bg-white border-2 border-blue-300 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2 lucide lucide-upload"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                            <span>Upload Photo</span>
                        </button>
                    </div>

                    <!-- Image Preview Area --><img id="image-preview" src="" alt="Uploaded animal" class="mt-6 rounded-lg shadow-md hidden w-full h-auto max-h-64 object-contain">

                </div>

                <!-- Right Card: Assessment --><div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
                    <h3 class="text-xl font-semibold text-blue-800 flex items-center mb-8">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-clipboard-check"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="m9 14 2 2 4-4"/></svg>
                        Comprehensive Assessment
                    </h3>

                    <div id="assessment-content">
                        <!-- Default State --><div id="assessment-default">
                            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400 mx-auto mb-6 lucide lucide-stethoscope"><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2Z"/><path d="M8 2v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2h-.4a.3.3 0 1 0-.3.6l.4.3"/><path d="M17.8 2.3a.3.3 0 1 1 .4-.4H20a2 2 0 0 1 2 2v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a2 2 0 0 1 2-2Z"/><path d="M16 2v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a2 2 0 0 1 2-2h.4a.3.3 0 1 1 .3.6l-.4.3"/><path d="M10 10v6"/><path d="M10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"/><path d="M10 16s-1.7-2-5-2"/><path d="M10 16s1.7-2 5-2"/></svg>
                            <h4 class="text-lg font-semibold text-center text-gray-700 mb-2">Ready to Help</h4>
                            <p class="text-gray-500 text-center text-sm mb-6">
                                Capture or upload an image to get instant AI-powered
                                veterinary assessment.
                            </p>
                            <div class="space-y-3 text-sm">
                                <p class="flex items-center text-green-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                    Species identification
                                </p>
                                <p class="flex items-center text-blue-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-heart-pulse"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/><path d="M3.22 12H9.5l.7-1 2.1 2.1 1.4-1.4 1.6 1.6H20.8"/></svg>
                                    Injury assessment
                                </p>
                                <p class="flex items-center text-red-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-siren"><path d="m12 12 4-10-8 0 4 10z"/><path d="m12 12 4 10H8l4-10z"/><circle cx="12" cy="12" r="10"/></svg>
                                    Urgency rating
                                </p>
                                <p class="flex items-center text-orange-600">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-file-text"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
                                    Emergency guidance
                                </p>
                            </div>
                        </div>

                        <!-- Loading State --><div id="assessment-loading" class="hidden text-center">
                            <div class="loader mx-auto mb-4"></div>
                            <p class="text-gray-600 animate-pulse">Analyzing image... Please wait.</p>
                        </div>

                        <!-- Result State --><div id="assessment-result" class="hidden">
                            <h4 class="text-lg font-semibold text-gray-800 mb-3">AI Assessment Complete</h4>
                            <div id="assessment-text" class="text-gray-700 text-sm space-y-2 leading-relaxed">
                                <!-- AI-generated content will go here --></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 3. Nearest Rescue Centers (from image 2) --><section id="centers" class="py-16 md:py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600 mx-auto mb-4 lucide lucide-map-pin"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Nearest Rescue Centers</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Find the closest animal rescue centers, emergency veterinarians, and wildlife care facilities in your area.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                <!-- Left: Map --><div class="lg:col-span-3 bg-gray-100 rounded-2xl shadow-lg overflow-hidden border border-gray-200 h-[450px] lg:h-auto">
                    <!-- Interactive Google Map Embed --><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d448196.526279998!2d76.81306443466847!3d28.64371496734739!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfd5b347eb62d%3A0x37205b715389640!2sNew%20Delhi%2C%20Delhi!5e0!3m2!1sen!2sin!4v1699881112345!5m2!1sen!2sin" class="w-full h-full" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>

                <!-- Right: Contacts List --><div class="lg:col-span-2">
                    <h3 class="text-xl font-semibold text-green-700 flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-contact"><path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2"/><rect width="18" height="18" x="3" y="4" rx="2"/><circle cx="12" cy="10" r="2"/><line x1="8" x2="8" y1="2" y2="4"/><line x1="16" x2="16" y1="2" y2="4"/></svg>
                        Emergency Contacts
                    </h3>
                    <div class="space-y-6">
                        <!-- Contact Card 1 --><div class="bg-white p-5 rounded-lg shadow border border-gray-100">
                            <div class="flex justify-between items-start mb-3">
                                <h4 class="text-lg font-semibold text-gray-800">City Animal Emergency Hospital</h4>
                                <span class="text-sm font-medium text-blue-600">0.8 miles</span>
                            </div>
                            <p class="text-sm text-red-600 mb-2">Emergency Vetenirary</p>
                            <p class="text-sm text-gray-500 mb-3">123 Main Street, Downtown</p>
                            <p class="flex items-center text-sm text-gray-600 mb-3">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                24/7
                            </p>
                            <div class="flex flex-wrap gap-2 text-xs mb-4">
                                <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full">Emergency Care</span>
                                <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full">Surgery</span>
                                <span class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full">Critical Care</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <a href="tel:+919810324242" class="w-full sm:w-auto text-center bg-green-600 text-white px-5 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone-call"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/><path d="M14.05 2a9 9 0 0 1 8 7.94"/><path d="M14.05 6A5 5 0 0 1 18 10"/></svg>
                                    Call Now
                                </a>
                                <a href="#" class="w-full sm:w-auto text-center text-sm text-gray-700 font-medium hover:text-black flex items-center justify-center gap-1.5 ml-4">
                                    Directions
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right"><line x1="5" x2="19" y1="12" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                                </a>
                            </div>
                        </div>

                        <!-- Contact Card 2 --><div class="bg-white p-5 rounded-lg shadow border border-gray-100">
                            <div class="flex justify-between items-start mb-3">
                                <h4 class="text-lg font-semibold text-gray-800">Happy Tails Rescue Center</h4>
                                <span class="text-sm font-medium text-blue-600">1.2 miles</span>
                            </div>
                            <p class="text-sm text-green-600 mb-2">Animal Rescue</p>
                            <p class="text-sm text-gray-500 mb-3">456 Oak Avenue, Midtown</p>
                            <p class="flex items-center text-sm text-gray-600 mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                8 AM - 6 PM
                            </p>
                            <!-- Simpler card, no buttons shown in image --></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. Emergency Rescue Guide (from image 5) --><section id="guide" class="py-16 md:py-24 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500 mx-auto mb-4 lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Emergency Rescue Guide</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                    Essential steps for helping injured stray animals
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Step 1 --><div class="bg-white p-6 rounded-lg shadow border border-red-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-red-500">1</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500 lucide lucide-shield-alert"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Assess Safety</h3>
                    <p class="text-sm text-gray-600">
                        Approach slowly and calmly. Watch for signs of aggression or extreme fear. Ensure your safety first.
                    </p>
                </div>
                <!-- Step 2 --><div class="bg-white p-6 rounded-lg shadow border border-blue-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-blue-500">2</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500 lucide lucide-camera"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Document Condition</h3>
                    <p class="text-sm text-gray-600">
                        Take photos for veterinary assessment. Note visible injuries, breathing patterns, and behavior.
                    </p>
                </div>
                <!-- Step 3 --><div class="bg-white p-6 rounded-lg shadow border border-green-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-green-500">3</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-500 lucide lucide-phone-call"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/><path d="M14.05 2a9 9 0 0 1 8 7.94"/><path d="M14.05 6A5 5 0 0 1 18 10"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Contact Rescue</h3>
                    <p class="text-sm text-gray-600">
                        Call local animal rescue services immediately. Provide location and condition details.
                    </p>
                </div>
                <!-- Step 4 --><div class="bg-white p-6 rounded-lg shadow border border-purple-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-purple-500">4</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-purple-500 lucide lucide-heart-handshake"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/><path d="M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.82 2.94 0l.03-.03L12 11l.99-.99.03.03a2.17 2.17 0 0 1 2.94 0v0a2.17 2.17 0 0 1 0 3.08L12 17l-1.24-1.24"/><path d="m15 18-3-3"/><path d="m12 15-3 3"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Provide Comfort</h3>
                    <p class="text-sm text-gray-600">
                        Offer water and create a quiet, warm space. Avoid forcing food on severely injured animals.
                    </p>
                </div>
                <!-- Step 5 --><div class="bg-white p-6 rounded-lg shadow border border-orange-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-orange-500">5</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-orange-500 lucide lucide-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Monitor Closely</h3>
                    <p class="text-sm text-gray-600">
                        Watch for changes in condition. Keep the animal calm and limit stress until help arrives.
                    </p>
                </div>
                <!-- Step 6 --><div class="bg-white p-6 rounded-lg shadow border border-teal-200">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xl font-bold text-teal-500">6</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-teal-500 lucide lucide-move"><polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/></svg>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Transport Safely</h3>
                    <p class="text-sm text-gray-600">
                        Use proper carriers or blankets. Handle gently and support injured areas during transport.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. Footer (from image 3) --><footer id="footer" class="bg-green-800 text-white py-16 md:py-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Top Part: Need Help? --><div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Need Immediate Help?</h2>
                <p class="text-lg text-green-200 max-w-2xl mx-auto">
                    Our rescue network is here 24/7 for emergency situations.
                </p>
            </div>

            <!-- Action Buttons --><div class="flex flex-col md:flex-row justify-center gap-6 md:gap-8 mb-16">
                <!-- Emergency Hotline --><a href="tel:+919810324242" class="bg-green-700 p-6 rounded-lg shadow-lg flex-1 max-w-md flex items-center gap-6 hover:bg-green-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white lucide lucide-phone-call"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/><path d="M14.05 2a9 9 0 0 1 8 7.94"/><path d="M14.05 6A5 5 0 0 1 18 10"/></svg>
                    <div>
                        <h3 class="text-xl font-semibold">Emergency Hotline</h3>
                        <p class="text-2xl font-bold tracking-wider">+91 98103 24242</p>
                    </div>
                </a>
                
                <!-- Find Local Shelters --><a href="#centers" class="bg-green-700 p-6 rounded-lg shadow-lg flex-1 max-w-md flex items-center gap-6 hover:bg-green-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white lucide lucide-map-pin"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                    <div>
                        <h3 class="text-xl font-semibold">Find Local Shelters</h3>
                        <span class="text-green-300 underline">Locate Nearby Help</span>
                    </div>
                </a>
            </div>

            <!-- Bottom Bar --><div class="border-t border-green-600 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-green-200">
                <p class="flex items-center gap-2 mb-4 md:mb-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="text-red-400 lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                KARUNA
                </p>
                <p class="text-center md:text-right">
                    Turning compassion into action with AI technology. <br>
                    Every animal deserves a chance at happiness.
                </p>
            </div>
        </div>
    </footer>

    <script>
        // --- Gemini API Configuration ---
        const apiKey = ""; // Leave this empty, Canvas will handle it.
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
        
        const systemPrompt = `You are a veterinary AI assistant. Analyze this image of an animal.
        Your goal is to identify the species and any visible injuries, then provide a brief, helpful assessment.
        Respond *only* with the assessment, formatted exactly like this:
        
        **Species Identification:** [e.g., Dog, (Canis lupus familiaris) or Cat, (Felis catus) or Bird, (Aves)]
        **Injury Assessment:** [Describe the visible injury, e.g., "Open wound on the left hind leg," "Signs of a possible broken wing," "Unable to detect a clear injury from this image."]
        **Urgency Rating:** [One of: Low, Medium, High, or Critical]
        **Emergency Guidance:** [1-2 brief sentences of first-aid advice, e.g., "Do not touch the wound. Keep the animal warm and calm. Contact a veterinarian immediately." or "Handle the bird minimally. Place it in a dark, quiet box and call a wildlife rehabilitator."]
        
        If you cannot determine the animal or injury, state that clearly in the relevant fields.`;

        // --- DOM Element References ---
        const fileUploadInput = document.getElementById('file-upload-input');
        const uploadPhotoBtn = document.getElementById('upload-photo-btn');
        const liveCameraBtn = document.getElementById('live-camera-btn');
        const recordVideoBtn = document.getElementById('record-video-btn');
        
        const assessmentContent = document.getElementById('assessment-content');
        const assessmentDefault = document.getElementById('assessment-default');
        const assessmentLoading = document.getElementById('assessment-loading');
        const assessmentResult = document.getElementById('assessment-result');
        const assessmentText = document.getElementById('assessment-text');
        const imagePreview = document.getElementById('image-preview');

        const alertModal = document.getElementById('alert-modal');
        const alertMessage = document.getElementById('alert-message');

        // --- Modal Alert Functions ---
        function showAlert(message) {
            alertMessage.textContent = message;
            alertModal.classList.remove('hidden');
        }

        function closeAlert() {
            alertModal.classList.add('hidden');
        }

        // --- Event Listeners ---
        uploadPhotoBtn.addEventListener('click', () => {
            fileUploadInput.click();
        });

        liveCameraBtn.addEventListener('click', () => {
            showAlert('Live Camera functionality is not available in this web demo. Please use the "Upload Photo" option.');
        });

        recordVideoBtn.addEventListener('click', () => {
            showAlert('Video Recording functionality is not available in this web demo. Please use the "Upload Photo" option.');
        });

        // --- File Handling ---
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                // Show image preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    imagePreview.src = e.target.result;
                    imagePreview.classList.remove('hidden');
                    
                    // Get base64 data for API
                    const base64Data = e.target.result.split(',')[1];
                    getAIAssessment(base64Data, file.type);
                };
                reader.readAsDataURL(file);
            }
        }

        // --- API Call Function ---
        async function getAIAssessment(base64ImageData, mimeType) {
            // Set UI to loading state
            assessmentDefault.classList.add('hidden');
            assessmentResult.classList.add('hidden');
            assessmentLoading.classList.remove('hidden');

            const payload = {
                contents: [
                    {
                        role: "user",
                        parts: [
                            { text: "Analyze this animal for species and injury based on your system instructions." },
                            {
                                inlineData: {
                                    mimeType: mimeType,
                                    data: base64ImageData
                                }
                            }
                        ]
                    }
                ],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            try {
                // Call the API with exponential backoff
                const response = await fetchWithBackoff(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.status} ${response.statusText}`);
                }

                const result = await response.json();
                
                let text = "Error: Could not parse AI response.";
                if (result.candidates && result.candidates[0].content?.parts?.[0]?.text) {
                    text = result.candidates[0].content.parts[0].text;
                }

                // Format and display the result
                assessmentText.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
                assessmentResult.classList.remove('hidden');

            } catch (error) {
                console.error('Error getting AI assessment:', error);
                assessmentText.innerHTML = `<strong>Analysis Failed</strong><br>An error occurred while trying to analyze the image. Please check your connection and try again.`;
                assessmentResult.classList.remove('hidden');
            } finally {
                // Hide loading spinner
                assessmentLoading.classList.add('hidden');
            }
        }

        // --- Exponential Backoff Fetch ---
        async function fetchWithBackoff(url, options, retries = 3, delay = 1000) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok && response.status === 429) { // 429: Too Many Requests
                        throw new Error('Rate limit exceeded');
                    }
                    return response; // Success
                } catch (error) {
                    if (i === retries - 1) throw error; // Last retry failed
                    // Do not log to console, just wait and retry
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2; // Exponential backoff
                }
            }
        }

    </script>
</body>
</html>